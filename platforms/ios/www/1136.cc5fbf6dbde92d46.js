"use strict";(self.webpackChunkSharedShoppingList=self.webpackChunkSharedShoppingList||[]).push([[1136],{1136:function(ee,O,_){_.r(O),_.d(O,{startInputShims:function(){return X}});var T=_(5861),E=_(7757),p=_.n(E),C=_(207),S=_(3756),P=new WeakMap,I=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;P.has(e)!==r&&(r?U(e,t,n):x(e,t))},k=function(e){return e===e.getRootNode().activeElement},U=function(e,t,r){var n=t.parentNode,a=t.cloneNode(!1);a.classList.add("cloned-input"),a.tabIndex=-1,n.appendChild(a),P.set(e,a);var o="rtl"===e.ownerDocument.dir?9999:-9999;e.style.pointerEvents="none",t.style.transform="translate3d(".concat(o,"px,").concat(r,"px,0) scale(0)")},x=function(e,t){var r=P.get(e);r&&(P.delete(e),r.remove()),e.style.pointerEvents="",t.style.transform=""},H=function(e,t,r){if(!r||!t)return function(){};var n=function(u){k(t)&&I(e,t,u)},a=function(){return I(e,t,!1)},i=function(){return n(!0)},o=function(){return n(!1)};return(0,S.a)(r,"ionScrollStart",i),(0,S.a)(r,"ionScrollEnd",o),t.addEventListener("blur",a),function(){(0,S.b)(r,"ionScrollStart",i),(0,S.b)(r,"ionScrollEnd",o),t.addEventListener("ionBlur",a)}},M="input, textarea, [no-blur], [contenteditable]",G=function(e,t,r){var n=e.closest("ion-item,[ion-item]")||e;return Y(n.getBoundingClientRect(),t.getBoundingClientRect(),r,e.ownerDocument.defaultView.innerHeight)},Y=function(e,t,r,n){var a=e.top,i=e.bottom,o=t.top,u=o+15,f=.75*Math.min(t.bottom,n-r)-i,g=u-a,L=Math.round(f<0?-f:g>0?-g:0),d=Math.min(L,a-o),b=Math.abs(d);return{scrollAmount:d,scrollDuration:Math.min(400,Math.max(150,b/.3)),scrollPadding:r,inputSafeY:4-(a-u)}},$=function(e,t,r,n,a){var i,o=function(l){i=(0,S.p)(l)},v=function(l){if(i){var f=(0,S.p)(l);!Z(6,i,f)&&!k(t)&&(l.stopPropagation(),z(e,t,r,n,a))}};return e.addEventListener("touchstart",o,!0),e.addEventListener("touchend",v,!0),function(){e.removeEventListener("touchstart",o,!0),e.removeEventListener("touchend",v,!0)}},z=function(){var c=(0,T.Z)(p().mark(function e(t,r,n,a,i){var o,v,u,l,f;return p().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(n||a){d.next=2;break}return d.abrupt("return");case 2:if(o=G(t,n||a,i),!(n&&Math.abs(o.scrollAmount)<4)){d.next=6;break}return r.focus(),d.abrupt("return");case 6:if(I(t,r,!0,o.inputSafeY),r.focus(),(0,S.r)(function(){return t.click()}),"undefined"==typeof window){d.next=22;break}if(u=function(){var b=(0,T.Z)(p().mark(function h(){return p().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(void 0!==v&&clearTimeout(v),window.removeEventListener("ionKeyboardDidShow",l),window.removeEventListener("ionKeyboardDidShow",u),!n){s.next=6;break}return s.next=6,(0,C.b)(n,0,o.scrollAmount,o.scrollDuration);case 6:I(t,r,!1,o.inputSafeY),r.focus();case 8:case"end":return s.stop()}},h)}));return function(){return b.apply(this,arguments)}}(),l=function b(){window.removeEventListener("ionKeyboardDidShow",b),window.addEventListener("ionKeyboardDidShow",u)},!n){d.next=21;break}return d.next=15,(0,C.g)(n);case 15:if(!(o.scrollAmount>(f=d.sent).scrollHeight-f.clientHeight-f.scrollTop)){d.next=21;break}return"password"===r.type?(o.scrollAmount+=50,window.addEventListener("ionKeyboardDidShow",l)):window.addEventListener("ionKeyboardDidShow",u),v=setTimeout(u,1e3),d.abrupt("return");case 21:u();case 22:case"end":return d.stop()}},e)}));return function(t,r,n,a,i){return c.apply(this,arguments)}}(),Z=function(e,t,r){if(t&&r){var n=t.x-r.x,a=t.y-r.y;return n*n+a*a>e*e}return!1},R="$ionPaddingTimer",F=function(e,t){var r,n;if("INPUT"===e.tagName&&(!e.parentElement||"ION-INPUT"!==e.parentElement.tagName)&&"ION-SEARCHBAR"!==(null===(n=null===(r=e.parentElement)||void 0===r?void 0:r.parentElement)||void 0===n?void 0:n.tagName)){var a=(0,C.a)(e);if(null!==a){var i=a[R];i&&clearTimeout(i),t>0?a.style.setProperty("--keyboard-offset","".concat(t,"px")):a[R]=setTimeout(function(){a.style.setProperty("--keyboard-offset","0px")},120)}}},X=function(e){var t=document,r=e.getNumber("keyboardHeight",290),n=e.getBoolean("scrollAssist",!0),a=e.getBoolean("hideCaretOnScroll",!0),i=e.getBoolean("inputBlurring",!0),o=e.getBoolean("scrollPadding",!0),v=Array.from(t.querySelectorAll("ion-input, ion-textarea")),u=new WeakMap,l=new WeakMap,f=function(){var h=(0,T.Z)(p().mark(function m(s){var w,A,D,B,K,N;return p().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.next=2,new Promise(function(q){return(0,S.c)(s,q)});case 2:if(A=(w=s.shadowRoot||s).querySelector("input")||w.querySelector("textarea"),D=(0,C.a)(s),B=D?null:s.closest("ion-footer"),A){y.next=8;break}return y.abrupt("return");case 8:!!D&&a&&!u.has(s)&&(K=H(s,A,D),u.set(s,K)),(D||B)&&n&&!l.has(s)&&(N=$(s,A,D,B,r),l.set(s,N));case 10:case"end":return y.stop()}},m)}));return function(s){return h.apply(this,arguments)}}();i&&function(){var e=!0,t=!1,r=document;(0,S.a)(r,"ionScrollStart",function(){t=!0}),r.addEventListener("focusin",function(){e=!0},!0),r.addEventListener("touchend",function(v){if(t)t=!1;else{var u=r.activeElement;if(u&&!u.matches(M)){var l=v.target;l!==u&&(l.matches(M)||l.closest(M)||(e=!1,setTimeout(function(){e||u.blur()},50)))}}},!1)}(),o&&function(e){var t=document;t.addEventListener("focusin",function(i){F(i.target,e)}),t.addEventListener("focusout",function(i){F(i.target,0)})}(r);for(var L=0,d=v;L<d.length;L++)f(d[L]);t.addEventListener("ionInputDidLoad",function(h){f(h.detail)}),t.addEventListener("ionInputDidUnload",function(h){!function(m){if(a){var s=u.get(m);s&&s(),u.delete(m)}if(n){var w=l.get(m);w&&w(),l.delete(m)}}(h.detail)})}}}]);